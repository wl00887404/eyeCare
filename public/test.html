<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>test</title>
</head>

<body>
    <input type="file" id="file" />
    <button type="button" onclick="upload()">submit</button>
</body>
<script type="text/javascript">
let fileReader = new FileReader()
fileReader.onloadend = (e) => {
	let img = new Uint8Array(e.target.result);
	console.debug(img.length)
    fetch("./upload", {
        method: "POST",
        body: JSON.stringify({
        	name:"dog",img
        }),
        headers: {
            'Content-Type': 'application/json'
        }
    })
}
const upload = () => {
    if (file.files[0]) {
        let img = file.files[0]
        fileReader.readAsArrayBuffer(img);
    }

}
</script>

</html>
